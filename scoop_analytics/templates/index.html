<!-- <!DOCTYPE html>
<html>
<head>
    <title>Documents</title>
</head>
<body>
    {%for document in myDocuments%}
    <li>{{document.data}}</li>
    {% endfor %}

    {% for share_price in share_prices %}
    <li>{{share_price.timestamp}}, {{share_price.open}}, {{share_price.close}}, {{share_price.volume}}</li>
    {% endfor %}
</body>
</html> -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
</head>
<body>

{% for share_price in share_prices %}
<li>{{share_price.symbol}}, {{share_price.timestamp}}, {{share_price.open}}, {{share_price.close}}, {{share_price.high}}, {{share_price.low}}, {{share_price.volume}}</li>
{% endfor %}

<canvas id="myChart"></canvas>
<script>
var open_data = [], high_data = [], low_data = [], timestamp_data = [];

{% for share_price in share_prices %}
    open_data.push({{ share_price.open }});
    high_data.push({{ share_price.high }});
    low_data.push({{ share_price.low }});
    timestamp_data.push("{{ share_price.timestamp }}");
{% endfor %}

var ctx = document.getElementById("myChart").getContext('2d');
var myLineChart = new Chart(ctx, {
    type: 'line',
    data: {
    labels: timestamp_data,
    datasets: [{
        label: 'Open',
        data: open_data,
        backgroundColor: 'rgba(192,192,192,0.2)',
        borderColor: 'rgba(168,168,168,1)',
        borderWidth: 1
    }, {
        label: 'High',
        data: high_data,
        fill: false,
        borderColor: '#3cba9f',
        borderWidth: 1
    }, {
        label: 'Low',
        data: low_data,
        fill: false,
        borderColor: '#c45850',
        borderWidth: 1
    }],
    },
    options: {
        scales: {
            yAxes: [{
                display: true,
                scaleLabel: {
                            display: true,
                            labelString: 'Share Prices'
                        },
                ticks: {
                    beginAtZero:false
                }
            }],
            xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: 'Time'
                        }
                    }]
        }
    }
});
</script>

</body>
</html>